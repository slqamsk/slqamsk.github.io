Содержимое файла about.html:
--------------------------------------------------
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>О нас - Мой сайт</title>
  <script src="layout.js" defer></script>
</head>
<body>
  <my-layout>
    <h2>О нашей компании</h2>
    
    <p>Мы - ведущая компания в сфере технологий и инноваций, работающая на рынке более 15 лет.</p>
    
    <h3>Наша история</h3>
    <p>Основанная в 2010 году, наша компания начинала с небольшого офиса и команды из 5 человек. Сегодня мы насчитываем более 500 сотрудников в 10 странах мира.</p>
    <p>Наш путь был наполнен как успехами, так и трудностями, но каждый вызов делал нас сильнее. В 2015 году мы запустили первую линейку продуктов, которая принесла нам признание на международном рынке.</p>
    
    <h3>Наши ценности</h3>
    <p>В основе нашей работы лежат три ключевых принципа:</p>
    <ul>
      <li>Инновации - мы постоянно ищем новые решения</li>
      <li>Качество - наши продукты проходят строгий контроль</li>
      <li>Клиентоориентированность - удовлетворенность клиентов наш главный приоритет</li>
    </ul>
    
    <h3>Наши услуги</h3>
    <p>Мы предлагаем широкий спектр услуг для бизнеса и частных клиентов:</p>
    
    <h4>Разработка программного обеспечения</h4>
    <p>Наша команда разработчиков создает решения, которые помогают бизнесу расти и развиваться. Мы используем современные технологии и методологии.</p>
    <p>Каждый проект проходит несколько этапов контроля качества, что гарантирует надежность конечного продукта. Наши клиенты получают не просто программное обеспечение, а инструмент для решения их бизнес-задач.</p>
    
    <h4>Консалтинговые услуги</h4>
    <p>Наши эксперты помогут вам разобраться в сложных технологических вопросах и найти оптимальные решения для вашего бизнеса.</p>
    <p>Мы проводим глубокий анализ текущей ситуации, выявляем узкие места и предлагаем конкретные шаги по улучшению. Наши рекомендации основаны на реальном опыте и проверенных методиках.</p>
    
    <h4>Техническая поддержка</h4>
    <p>Круглосуточная поддержка клиентов - наш конек. Мы гордимся быстрым временем реакции и высоким процентом решения вопросов с первого обращения.</p>
    <p>Наша служба поддержки работает 24/7, без выходных и праздников. Каждый клиент получает персонального менеджера, который сопровождает его на всех этапах работы с нашими продуктами.</p>
    
    <h3>Наша команда</h3>
    <p>Мы собрали лучших специалистов в своих областях. Средний стаж работы наших сотрудников в компании - 5 лет, что говорит о стабильности и комфортных условиях труда.</p>
    <p>Каждый год мы инвестируем в обучение и развитие наших сотрудников, отправляя их на международные конференции и тренинги. Мы верим, что развитие команды - это залог развития компании.</p>
    
    <h3>Наши достижения</h3>
    <p>За годы работы мы получили множество наград и признаний:</p>
    <ul>
      <li>Лучший технологический стартап 2015 года</li>
      <li>Премия "Инновации в бизнесе" 2018</li>
      <li>Топ-10 работодателей IT-сферы 2020-2024</li>
      <li>Сертификат ISO 9001:2020</li>
    </ul>
    
    <h3>Наши партнеры</h3>
    <p>Мы сотрудничаем с ведущими компаниями мира, включая Microsoft, Google и Amazon. Эти партнерства позволяют нам предлагать клиентам решения мирового уровня.</p>
    <p>Каждое партнерство - это результат долгой и кропотливой работы. Мы тщательно выбираем, с кем сотрудничать, чтобы гарантировать нашим клиентам только лучшие решения.</p>
    
    <h3>Планы на будущее</h3>
    <p>В ближайшие 5 лет мы планируем:</p>
    <ul>
      <li>Расширить географию присутствия до 20 стран</li>
      <li>Удвоить штат сотрудников</li>
      <li>Запустить 3 новых продукта</li>
      <li>Открыть собственный исследовательский центр</li>
    </ul>
    
    <h3>Отзывы клиентов</h3>
    <p>"Работа с этой компанией изменила наш бизнес. Благодаря их решениям мы смогли увеличить оборот в 3 раза за год." - Иван Петров, генеральный директор ООО "ТехноПром"</p>
    <p>"Лучший сервис, с которым я когда-либо работал. Быстрое решение любых вопросов и индивидуальный подход." - Мария Сидорова, IT-директор "БанкФинанс"</p>
    <p>"Мы сотрудничаем уже 7 лет и каждый раз впечатлены профессионализмом команды." - Алексей Иванов, основатель стартапа "Новые технологии"</p>
    
    <h3>Как с нами связаться</h3>
    <p>Вы можете связаться с нами любым удобным способом:</p>
    <ul>
      <li>Телефон: +7 (123) 456-78-90</li>
      <li>Email: info@company.com</li>
      <li>Офис: г. Москва, ул. Технологическая, д. 42</li>
    </ul>
    
    <p>Наши менеджеры работают с 9:00 до 18:00 по московскому времени, но служба поддержки доступна круглосуточно.</p>
    
    <h3>Часто задаваемые вопросы</h3>
    <p><strong>Как стать вашим клиентом?</strong><br>
    Просто свяжитесь с нами любым удобным способом, и мы обсудим ваши потребности.</p>
    
    <p><strong>Какие гарантии вы предоставляете?</strong><br>
    На все работы предоставляется гарантия от 1 года. Конкретные условия зависят от типа услуги.</p>
    
    <p><strong>Есть ли у вас бесплатные консультации?</strong><br>
    Да, первая консультация всегда бесплатна и ни к чему вас не обязывает.</p>
    
    <p><strong>Работаете ли вы с малым бизнесом?</strong><br>
    Да, у нас есть специальные предложения для стартапов и малого бизнеса.</p>
    
    <h3>Еще больше текста для прокрутки</h3>
    <p>Технологический прогресс не стоит на месте, и мы стараемся идти в ногу со временем. Каждый день наши сотрудники работают над тем, чтобы предлагать клиентам самые современные решения.</p>
    <p>Инвестиции в исследования и разработки составляют около 20% от нашего оборота. Мы считаем, что это необходимая плата за лидерство в отрасли.</p>
    <p>Наши офисы оборудованы по последнему слову техники. Мы создаем комфортные условия для работы, потому что верим - счастливые сотрудники создают лучшие продукты.</p>
    <p>Корпоративная культура - это не просто слова для нас. Мы регулярно проводим тимбилдинги, обучающие мероприятия и просто приятные встречи в неформальной обстановке.</p>
    <p>Социальная ответственность - еще один важный аспект нашей работы. Мы поддерживаем несколько образовательных программ и экологических инициатив.</p>
    <p>В 2023 году мы сократили углеродный след нашей деятельности на 30% и планируем достичь нулевых выбросов к 2030 году.</p>
    <p>Разнообразие и инклюзивность - наши приоритеты при найме. Мы гордимся тем, что в нашей команде представлены специалисты из разных стран и культур.</p>
    <p>Гибкий график работы и возможность удаленной работы - стандартные условия для наших сотрудников. Мы ценим результат, а не присутствие в офисе.</p>
    <p>Система наставничества помогает новым сотрудникам быстро влиться в команду. Каждый новичок получает опытного коллегу, который помогает освоиться.</p>
    <p>Ежегодные опросы удовлетворенности сотрудников показывают стабильно высокие результаты - в среднем 4.8 из 5 баллов.</p>
    <p>Мы активно участвуем в технологических конференциях как спикеры и организаторы. Делиться знаниями - часть нашей философии.</p>
    <p>Открытость к новым идеям - то, что позволяет нам оставаться на передовой. Каждый сотрудник может предложить инициативу, которая будет рассмотрена.</p>
    <p>Система поощрений мотивирует команду на достижение высоких результатов. Лучшие сотрудники получают бонусы и возможности для карьерного роста.</p>
    <p>Мы гордимся тем, что многие наши сотрудники работают в компании с самого основания. Их опыт и преданность - наша главная ценность.</p>
    <p>Молодые специалисты получают возможность работать над реальными проектами с первого дня, под руководством опытных коллег.</p>
    <p>Баланс между работой и личной жизнью - важный принцип нашей кадровой политики. Мы поощряем сотрудников заботиться о своем благополучии.</p>
    <p>Технические митапы и хакатоны - регулярные события в нашей компании. Они помогают команде быть в курсе последних тенденций.</p>
    <p>Мы инвестируем в здоровье сотрудников, предлагая комплексные медицинские страховки и программы wellness.</p>
    <p>Офисы компании расположены в удобных местах с хорошей транспортной доступностью. Для сотрудников предусмотрены парковки и велопарковки.</p>
    <p>Зеленые зоны в офисах и зоны отдыха помогают сотрудникам восстанавливаться в течение рабочего дня.</p>
    <p>Мы используем экологичные материалы и практики в повседневной работе, сокращая использование бумаги и пластика.</p>
    <p>Система переработки отходов внедрена во всех офисах компании. Мы стремимся минимизировать наше воздействие на окружающую среду.</p>
    <p>Волонтерские программы позволяют сотрудникам участвовать в социально значимых проектах в рабочее время.</p>
    <p>Образовательные гранты для детей сотрудников - еще одна инициатива, которую мы реализуем уже несколько лет.</p>
    <p>Программы обмена между офисами в разных странах помогают сотрудникам расширять кругозор и профессиональный опыт.</p>
    <p>Мы поддерживаем профессиональные сообщества и open-source проекты, внося свой вклад в развитие технологий.</p>
    <p>Ежегодные корпоративные мероприятия укрепляют командный дух и создают атмосферу единой семьи.</p>
    <p>Программа рекомендаций сотрудников показывает, что более 30% новых работников приходят к нам по совету коллег.</p>
    <p>Мы гордимся нашей репутацией на рынке труда и стремимся поддерживать высокие стандарты работы с персоналом.</p>
    <p>Техническая база компании обновляется регулярно, чтобы сотрудники имели доступ к лучшим инструментам для работы.</p>
    <p>Система обучения включает как внутренние программы, так и внешние курсы от ведущих образовательных платформ.</p>
    <p>Карьерные пути четко определены, и каждый сотрудник понимает, как может расти в компании.</p>
    <p>Регулярные one-to-one встречи с руководителями помогают своевременно решать вопросы и корректировать планы развития.</p>
    <p>Система 360-градусной обратной связи позволяет получать всестороннюю оценку работы и находить точки роста.</p>
    <p>Мы верим, что инвестиции в людей - это инвестиции в будущее компании, и продолжаем развивать наши HR-практики.</p>
  </my-layout>
</body>
</html>

Содержимое файла index.html:
--------------------------------------------------
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Мой сайт - Добро пожаловать!</title>
  <script src="layout.js" defer></script>
</head>
<body>
  <my-layout>
    <h2>Добро пожаловать!</h2>
    <p>Этот контент отображается в основном блоке.</p>

  </my-layout>
</body>
</html>

Содержимое файла layout.css:
--------------------------------------------------
/* styles.css */
:root {
  --primary-bg: #e1f5fe;
  --primary-border: #b3e5fc;
  --hover-color: #01579b;
}

body {
  margin: 0;
  padding: 0;
  font-family: Arial, sans-serif;
  background-color: #f5f5f5;
  height: 100vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.layout-page {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.layout-header {
  background: var(--primary-bg);
  padding: 0 1rem;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  border-bottom: 1px solid var(--primary-border);
  gap: 15px;
  line-height: 1.3;
  flex-shrink: 0;
}

.layout-header > * {
  margin: 0;
}

.header-left {
  justify-self: start;
}

.header-center {
  justify-self: center;
}

.header-right {
  justify-self: end;
  display: flex;
}

.logo {
  font-size: 1.5rem;
  font-weight: bold;
  white-space: nowrap;
}

.layout-header nav a {
  white-space: nowrap;
  margin-left: 15px;
  text-decoration: none;
  color: #000;
  padding: 8px 12px;
  border-radius: 4px;
  font-weight: bold;
  transition: all 0.2s ease;
}

.layout-header nav a:hover {
  background-color: var(--primary-border);
  color: var(--hover-color);
  text-decoration: underline;
}

.layout-content {
  display: flex;
  flex: 1;
  min-height: 0;
  background: #fff;
}

.layout-sidebar {
  width: 250px;
  background: var(--primary-bg);
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  transition: transform 0.3s ease;
  position: relative;
  z-index: 2;
}

.layout-sidebar::after {
  content: '';
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  width: 1px;
  background-color: var(--primary-border);
}

.layout-sidebar.hidden {
  transform: translateX(-100%);
  width: 0;
}

.sidebar-toggle {
  background: var(--primary-bg);
  border: 1px solid var(--primary-border);
  border-radius: 4px;
  cursor: pointer;
  padding: 5px 10px;
  font-size: 0.9rem;
  transition: background 0.2s ease;
}

.sidebar-toggle:hover {
  background: var(--primary-border);
}

.sidebar-menu {
  padding: 10px;
  flex: 1;
  overflow-y: hidden;
}

.sidebar-menu:hover {
  overflow-y: auto;
}

.sidebar-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.sidebar-menu li {
  margin-bottom: 5px;
}

.menu-item {
  color: #000;
  text-decoration: none;
  display: block;
  padding: 8px 12px;
  border-radius: 4px;
  font-weight: bold;
  transition: all 0.2s ease;
}

.menu-item:hover {
  background-color: var(--primary-border);
  color: var(--hover-color);
  text-decoration: underline;
}

.submenu {
  padding-left: 0;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
}

.submenu.active {
  max-height: 500px;
}

.submenu li a {
  display: block;
  padding: 8px 20px;
  color: #000;
  text-decoration: none;
  border-radius: 4px;
  transition: all 0.2s ease;
}

.submenu li a:hover {
  background-color: var(--primary-border);
  color: var(--hover-color);
  text-decoration: underline;
}

.layout-main {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
  position: relative;
  z-index: 1;
  margin-left: 0;
}

.layout-sidebar:not(.hidden) + .layout-main {
  margin-left: -1px;
}

.layout-footer {
  background: var(--primary-bg);
  padding: 0.25rem 1rem;
  text-align: center;
  border-top: 1px solid var(--primary-border);
  line-height: 1.3;
  flex-shrink: 0;
}

.layout-footer p {
  margin: 0;
}

@media (max-width: 768px) {
  .layout-sidebar {
    position: fixed;
    top: 60px;
    bottom: 30px;
    left: 0;
  }
  
  .layout-sidebar.hidden {
    transform: translateX(-100%);
    width: 250px;
  }
  
  .layout-main {
    margin-left: 0 !important;
  }
}

Содержимое файла layout.js:
--------------------------------------------------
// Основная функция, которая запускается при загрузке DOM
document.addEventListener("DOMContentLoaded", initApp);

async function initApp() {
  try {
    await loadResources(); // (1) Ждём загрузки
    initLayout();          // (2) Запускаем инициализацию
  } catch (error) {
    handleError(error);    // (3) Обрабатываем ошибки
  }
}

function loadResources() {
  const resources = [
    { type: 'css', url: 'layout.css' },
    // { type: 'js', url: 'script.js' }, // Пример JS-файла
  ];

  if (resources.length === 0) {
    return Promise.resolve();
  }

  let loadedCount = 0;
  
  return new Promise((resolve) => {
    function handleLoad() {
      loadedCount++;
      if (loadedCount === resources.length) {
        resolve();
      }
    }

    resources.forEach(resource => {
      let element;
      
      if (resource.type === 'css') {
        element = document.createElement('link');
        element.rel = 'stylesheet';
        element.href = resource.url;
      } 
      else if (resource.type === 'js') {
        element = document.createElement('script');
        element.src = resource.url;
      }

      element.onload = handleLoad;
      element.onerror = () => {
        console.warn(`Не удалось загрузить ${resource.type}: ${resource.url}`);
        handleLoad();
      };

      document.head.appendChild(element);
    });
  });
}

function initLayout() {
  replaceLayoutTags();
  initMenuToggle();
  initSubmenus();
}

function replaceLayoutTags() {
  layout = document.querySelector("my-layout");
  layout.outerHTML = createLayoutTemplate(layout.innerHTML.trim());
}

function createLayoutTemplate(content) {
  return `
    <div class="layout-page">
      <header class="layout-header">
        <div class="header-left">
          <button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle sidebar" aria-expanded="true" onclick="toggleSidebar()">
          ✕
          </button>
        </div>
        <div class="header-center">
          <span class="logo">Мой сайт</span>
        </div>
        <nav class="header-right">
          <a href="index.html">Главная</a>
          <a href="about.html">О нас</a>
          <a href="python.html">Python</a>
        </nav>
      </header>
      <div class="layout-content">
        <aside class="layout-sidebar" id="sidebar">
          ${createSidebarMenu()}
        </aside>
        <main class="layout-main">
          ${content}
        </main>
      </div>
      <footer class="layout-footer">
        <p>&copy; 2025 <a href="https://t.me/sergeyslesarev">Сергей Слесарев</a></p>
      </footer>
    </div>
  `;
}

function createSidebarMenu() {
  return `
    <nav class="sidebar-menu">
      <ul>
        <li class="menu-group">
          <a href="#" class="menu-item" aria-haspopup="true">Продукция</a>
          <ul class="submenu">
            <li><a href="#">Телефоны</a></li>
            <li><a href="#">Ноутбуки</a></li>
            <li><a href="#">Аксессуары</a></li>
          </ul>
        </li>
        <li class="menu-group">
          <a href="#" class="menu-item" aria-haspopup="true">Услуги</a>
          <ul class="submenu">
            <li><a href="#">Ремонт</a></li>
            <li><a href="#">Обслуживание</a></li>
            <li><a href="#">Консультации</a></li>
          </ul>
        </li>
        <li class="menu-group">
          <a href="#" class="menu-item" aria-haspopup="true">Поддержка</a>
          <ul class="submenu">
            <li><a href="#">FAQ</a></li>
            <li><a href="#">Документация</a></li>
            <li><a href="#">Форум</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  `;
}

function toggleSidebar() {
  const sidebar = document.getElementById('sidebar');
  const toggleBtn = document.getElementById('sidebarToggle');
  
  const isHidden = sidebar.classList.toggle('hidden');
  toggleBtn.textContent = isHidden ? '☰' : '✕';
  toggleBtn.setAttribute('aria-expanded', !isHidden);
}

function initSubmenus() {
  // 1. Находим элементы меню
  const menuItemList = document.querySelectorAll('.menu-group > .menu-item');
  
  // 2. Навешиваем обработчики
  menuItemList.forEach(function(menuItem) {
    menuItem.addEventListener('click', handleMenuItemClick);
  });
}

// 3. Обработчик клика
function handleMenuItemClick(event) {
  event.preventDefault();
  const submenu = this.nextElementSibling;
  
  if (submenu && submenu.classList.contains('submenu')) {
    submenu.classList.toggle('active');
  }
}

function handleError(error) {
  console.error('Ошибка при инициализации приложения:', error);
}

