<!DOCTYPE html>
<html>
<head>
    <title>ShopList Editor</title>
</head>
<body>
    <h1>Редактор ячейки A1</h1>
    
    <button onclick="getData()">Получить</button>
    <br><br>
    <input type="text" id="cellValue">
    <br><br>
    <button onclick="saveData()">Записать</button>

<script>
    const appUrl = new URLSearchParams(window.location.search).get('appUrl');

    function getData() {
        // 1. Проверяем, что пользователь указал URL своего скрипта
        if (!appUrl) {
            alert('Добавьте в адресную строку параметр ?appUrl=ВАШ_URL');
            return;
        }

        // 2. Отправляем GET-запрос к бэкенду
        fetch(appUrl)
            .then(response => response.text())
            .then(data => {
                // 3. Полученные данные подставляем в текстовое поле
                document.getElementById('cellValue').value = data;
            })
            .catch(error => {
                alert('Ошибка при получении данных: ' + error);
            });
    }

    function saveData() {
        // Эта функция пока пустая - заполним её следующей
    }
</script>
</body>
</html>