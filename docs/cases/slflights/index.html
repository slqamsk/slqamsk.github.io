<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Бизнес-требования — Система бронирования авиабилетов</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f7f7f7;
            color: #333;
        }
        pre {
            background-color: #fff;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            white-space: pre-wrap;
            font-size: 14px;
        }
        h1 {
            color: #444;
        }
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ccc;
        }
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background-color: #e0e0e0;
            border: 1px solid #ccc;
            border-bottom: none;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
        }
        .tab.active {
            background-color: #fff;
            border-bottom: 1px solid #fff;
            margin-bottom: -1px;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #e0e0e0;
        }
        .link {
            display: inline-block;
            padding: 5px 10px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 3px;
        }
        .link:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <h1>Бизнес-требования — Система бронирования авиабилетов</h1>

    <div class="tabs">
        <div class="tab active" onclick="showTab('business')">Бизнес-требования</div>
        <div class="tab" onclick="showTab('system')">Системные требования</div>
        <div class="tab" onclick="showTab('change')">Change Requests</div>
        <div class="tab" onclick="showTab('versions')">Версии</div>
    </div>

    <div id="business" class="tab-content active">
        <pre>
Бизнес-требования к системе бронирования авиабилетов

Настоящий документ содержит черновик функциональных бизнес-требований уровня MVP для внутреннего демо.
Требования описывают только функциональные возможности системы бронирования авиабилетов.
Non-functional requirements (производительность, безопасность, доступность, надёжность и т.д.) в данном документе не рассматриваются.
В запросы на изменения (change requests) вынесена функциональность, которая не рассматривается в рамках MVP.

BR-01: Аутентификация пользователей
BR-01-01: Система должна предоставлять возможность аутентификации пользователей по имени пользователя и паролю.
BR-01-02: Система должна предотвращать вход пользователей с заблокированными учетными записями, уведомляя их о невозможности входа.
BR-01-03: Система должна проверять, что поля имени пользователя и пароля не пусты при попытке входа, и отображать соответствующее сообщение об ошибке, если какое-либо из полей не заполнено.
BR-01-04: При успешной аутентификации система должна предоставлять доступ к функциям поиска, просмотра результатов поиска и бронирования авиабилетов.
BR-01-05: Система должна предоставлять возможность завершения сеанса пользователя.
BR-01-06: После завершения сеанса пользователь должен быть перенаправлен на страницу аутентификации.

BR-02: Поиск авиарейсов
BR-02-01: В рамках MVP поиск рейсов осуществляется по городам, а не по конкретным аэропортам
BR-02-02: Система должна предоставлять возможность поиска рейсов по следующим критериям: город вылета, город назначения, дата вылета.
При этом система должна валидировать, что город вылета и город назначения различны.
BR-02-03: Система должна проверять, что дата вылета не является прошедшей.
BR-02-04: Система должна возвращать список рейсов, соответствующих критериям поиска.

BR-03: Просмотр и сортировка результатов поиска
BR-03-01: Система должна отображать найденные рейсы в виде структурированного списка, содержащего следующую информацию:
Номер строки, Пункт отправления, Пункт назначения, Дата вылета, Время вылета, Стоимость билета.

BR-03-02: Система должна предоставлять возможность сортировки списка рейсов по времени вылета и стоимости.
BR-03-03: Система должна предоставлять возможность выбора направления сортировки (по возрастанию/убыванию).
BR-03-04: Система должна отображать общее количество найденных рейсов.
BR-03-05: Если по критериям поиска не найдено ни одного рейса, система должна отображать соответствующее информационное сообщение.
BR-03-06: Система должна предоставлять возможность вернуться к форме поиска с предварительно заполненными параметрам предыдущего поиска.

BR-04: Бронирование рейса
BR-04-01: Система должна предоставлять возможность выбора рейса для бронирования из списка найденных рейсов.
BR-04-02: При бронировании система должна отображать детальную информацию о выбранном рейсе.
BR-04-03: При переходе к форме бронирования система должна автоматически предзаполнять поля пассажира 
(ФИО, номер паспорта, email, телефон) данными аутентифицированного пользователя, но позволять их редактировать.
BR-04-04: Система должна требовать заполнения следующих данных пассажира для завершения бронирования: ФИО, номер паспорта, email, телефон
BR-04-05: Система должна проверять корректность формата данных пассажира:
    - ФИО должно содержать только буквы кириллицы, пробелы и дефисы
    - Номер паспорта должен содержать только цифры и пробелы
	- Корректность формата email и телефона пассажира.
BR-04-06: При успешном бронировании система должна подтверждать создание брони и предоставлять пользователю информацию о ней.
BR-04-07: Система должна предоставлять возможность вернуться к списку найденных рейсов без завершения бронирования.
        </pre>
    </div>

    <div id="system" class="tab-content">
        <pre>
Системные требования к MVP системы бронирования авиабилетов

Раздел: Страница аутентификации
SR-01-01: Приложение должно отображать форму входа с полями "Имя пользователя" и "Пароль".
SR-01-02: Приложение должно поддерживать аутентификацию по предопределённому списку пользователей с жёстко заданными учётными данными.
SR-01-03: При попытке входа заблокированным пользователем (например, locked_out_user) система должна отображать сообщение об ошибке "Пользователь заблокирован".
SR-01-04: При успешной аутентификации система должна скрывать форму входа и отображать интерфейс поиска авиабилетов.
SR-01-05: После успешного входа в верхней части страницы должно отображаться приветственное сообщение с ФИО пользователя.
SR-01-06: Приложение должно предоставлять кнопку "Logout", которая завершает сеанс и возвращает пользователя на страницу аутентификации.
SR-01-07: После выхода из системы все поля формы входа должны быть очищены, а дата в форме поиска — сброшена на текущую.

Раздел: Страница поиска авиабилетов
SR-02-01: Приложение должно отображать форму поиска с выпадающими списками городов вылета и назначения, а также полем выбора даты вылета.
SR-02-02: Города в форме поиска должны быть представлены в виде человекочитаемых названий (например, "Москва", "Лондон").
SR-02-03: Поле даты вылета должно быть предзаполнено текущей датой по умолчанию.
SR-02-04: При отправке формы поиска система должна проверять, что дата вылета не является прошедшей; в противном случае — отображать ошибку.
SR-02-05: При отправке формы поиска система должна проверять, что город вылета и город назначения различны (в прототипе это обеспечивается раздельными списками, поэтому проверка не требуется явно).
SR-02-06: После отправки формы поиска система должна скрыть форму поиска и отобразить страницу с результатами.

Раздел: Страница результатов поиска
SR-03-01: Приложение должно отображать найденные рейсы в виде таблицы с колонками: 
Номер строки, Пункт отправления, Пункт назначения, Дата вылета, Время вылета, Стоимость билета, Действие.
SR-03-02: Каждая строка таблицы должна содержать кнопку "Зарегистрироваться", позволяющую перейти к бронированию выбранного рейса.
SR-03-03: Приложение должно отображать общее количество найденных рейсов.
SR-03-04: Если рейсы не найдены, таблица должна содержать одну строку с сообщением "Рейсов по вашему запросу не найдено".
SR-03-05: Приложение должно предоставлять элементы управления для сортировки: выпадающий список поля сортировки (время вылета / цена) и направления (по возрастанию / по убыванию).
SR-03-06: При изменении параметров сортировки таблица должна немедленно пересортировываться без повторного запроса к серверу.
SR-03-07: Приложение должно предоставлять кнопку "Новый поиск", которая возвращает пользователя к форме поиска с предзаполненными параметрами последнего запроса.

Раздел: Страница бронирования (регистрации на рейс)
SR-04-01: При переходе к бронированию система должна отображать детальную информацию о выбранном рейсе: маршрут, дату, время, стоимость.
SR-04-02: Форма бронирования должна содержать поля: ФИО, номер паспорта, email, телефон.
SR-04-03: Поля формы бронирования должны быть предзаполнены данными аутентифицированного пользователя.
SR-04-04: Пользователь должен иметь возможность редактировать все поля формы бронирования.
SR-04-05: При отправке формы бронирования система должна проверять, что все поля заполнены.
SR-04-06: Система должна валидировать формат ФИО: допускаются только буквы кириллицы, пробелы и дефисы.
SR-04-07: Система должна валидировать формат номера паспорта: допускаются только цифры и пробелы.
SR-04-08: При успешной валидации система должна отображать сообщение "Регистрация успешно завершена!" и показывать модальное окно с подтверждением брони.
SR-04-09: Приложение должно предоставлять кнопку "Вернуться к найденным рейсам", которая возвращает пользователя к таблице результатов поиска без сохранения изменений в форме бронирования.

Раздел: Общие требования к SPA (только для прототипа MVP)
SR-05-01: Приложение должно быть реализовано как Single Page Application без перезагрузки страницы при переходе между состояниями (аутентификация → поиск → результаты → бронирование).
SR-05-02: Все переходы между разделами должны осуществляться через изменение видимости соответствующих HTML-блоков (display: none / block).
SR-05-03: Все данные (пользователи, расписание рейсов) должны быть жёстко заданы в клиентском коде (без внешних API или серверной логики).
SR-05-04: Все сообщения об ошибках и успехе должны отображаться в специально отведённых контейнерах с визуальным выделением (цветом и анимацией).
SR-05-05: На странице входа под формой ввода логина и пароля должен быть список всех пользователей с указанием имени пользователя, пароля, ФИО, номер паспорта, email, телефон
        </pre>
    </div>

    <div id="change" class="tab-content">
        <pre>
Запросы на изменения (на доработку) - Change Requests

CR-01: Управление бронированием и история
CR-01-01: Система должна предоставлять возможность отмены активной брони в течение 24 часов после создания без штрафов.
CR-01-02: Система должна предоставлять пользователю доступ к истории всех его бронирований (активных и завершённых).
CR-01-03: Каждая запись в истории бронирований должна включать: номер брони, маршрут, дату/время, статус, стоимость и данные пассажира.
CR-01-04: Система должна присваивать каждой брони уникальный номер (PNR - Record Locator) для ее идентификации.
CR-01-05: Система должна отслеживать статус каждой брони (например, "активна", "подтверждена", "отменена").
CR-01-07: Система должна проверять, что дата и время вылета не раньше, чем текущее дата/время + минимальный технически возможный интервал (например, 2 часа).

CR-02: Расширение процесса бронирования
CR-02-01: Система должна интегрироваться с платёжным шлюзом для обработки оплаты брони.
CR-02-02: После успешной оплаты система должна генерировать подтверждение бронирования и отправлять его на email пользователя.
CR-02-03: Система должна поддерживать бронирование для нескольких пассажиров (от 1 до 9) в рамках одного заказа.
CR-02-04: Все цены должны отображаться в рублях (RUB) с явным указанием включённых налогов и аэропортовых сборов.
CR-02-05: Каждая бронь должна иметь четко определенный статус (например, "ожидает оплаты", "подтверждена", "отменена"), отображаемый пользователю.

CR-03: Расширение данных о рейсах
CR-03-01: В результатах поиска каждый рейс должен включать: авиакомпанию, тип воздушного судна, длительность полёта и наличие багажа в тарифе.
CR-03-02: Система должна поддерживать поиск как прямых рейсов, так и рейсов с пересадками (максимум 2 пересадки). 
Если поддержка пересадок невозможна на данном этапе, это должно быть явно указано как ограничение.

CR-04: Обработка ошибок, управление и администрирование
CR-04-01: Система должна обрабатывать следующие исключительные ситуации:
– рейс отменён авиакомпанией;
– мест больше нет при подтверждении брони;
– сбой при оплате;
– недопустимые данные пассажира на стороне внешней системы.
В каждом случае пользователь должен получать понятное сообщение и рекомендацию к действию.
CR-04-02: Система должна отслеживать количество доступных мест на каждом рейсе и предотвращать бронирование, если мест нет.
CR-04-03: В информации о рейсе должны быть указаны авиакомпания, время прибытия, тип воздушного судна и время в пути.
CR-04-04: Администратор должен иметь возможность:
– просматривать и управлять всеми бронированиями;
– блокировать/разблокировать учётные записи пользователей;
– загружать и обновлять расписание рейсов.
CR-04-05: Данные о рейсах должны обновляться ежедневно через интеграцию с внешним источником расписаний (GDS или API авиакомпании).
CR-04-06: Все операции с бронированием (создание, отмена, изменение) должны логироваться с указанием времени, пользователя и IP-адреса.
        </pre>
    </div>

    <div id="versions" class="tab-content">
        <table>
            <thead>
                <tr>
                    <th>№</th>
                    <th>Номер версии</th>
                    <th>Описание версии</th>
                    <th>Ссылка</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>v01</td>
                    <td>Исходный прототип</td>
                    <td><a href="v01" class="link">Перейти</a></td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>v02</td>
                    <td>Версия с багами</td>
                    <td><a href="v02" class="link">Перейти</a></td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>v03</td>
                    <td>Не реализовано</td>
                    <td><a href="#" class="link">Перейти</a></td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>v04</td>
                    <td>Не реализовано</td>
                    <td><a href="#" class="link">Перейти</a></td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        function showTab(tabName) {
            // Скрыть все вкладки
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Показать выбранную вкладку
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }
    </script>
</body>
</html>