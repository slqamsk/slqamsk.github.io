<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            padding-top: 0;
        }

        .container {
            width: 100vw; /* –†–∞—Å—Ç—è–≥–∏–≤–∞–µ–º –ø–æ —à–∏—Ä–∏–Ω–µ —ç–∫—Ä–∞–Ω–∞ */
            max-width: none;
            min-height: 100vh;
            background: white;
            border-radius: 0;
            box-shadow: none;
            overflow: hidden;
            margin: 0;
            padding: 0;
        }

        .content-wrapper {
            width: 100%; /* –†–∞—Å—Ç—è–≥–∏–≤–∞–µ–º –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
            max-width: none; /* –£–±–∏—Ä–∞–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã */
            background: white;
            border-radius: 0; /* –£–±–∏—Ä–∞–µ–º —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è */
            box-shadow: none; /* –£–±–∏—Ä–∞–µ–º —Ç–µ–Ω—å */
            overflow: hidden;
            margin: 0;
            padding: 0;
        }

        .preview-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
            padding: 30px;
        }

        .preview {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .preview:hover {
            border-color: #3498db;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .preview h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
        }

        .preview-diagram {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #dee2e6;
            width: 400px;
            height: 400px;
            margin: 0 auto; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –≤–Ω—É—Ç—Ä–∏ */
            overflow: hidden; /* –°–∫—Ä—ã–≤–∞–µ–º –ª–∏—à–Ω–µ–µ */
            position: relative;
        }

        .diagram-container {
            background: white;
            padding: 25px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            margin-top: 20px;
            overflow: auto;
        }

        .diagram-title {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: 600;
        }

        .description {
            background: #e8f4fc;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #3498db;
        }

        .description h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .mermaid {
            text-align: center;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã */
        .scalable-diagram-wrapper {
            display: inline-block;
            position: relative;
            transform-origin: 0 0;
        }

        .section {
            padding: 30px;
        }

        .section h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 28px;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .preview-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="content-wrapper">
            <!-- –ü—Ä–µ–≤—å—é –¥–∏–∞–≥—Ä–∞–º–º -->
            <div class="preview-container">
                <div class="preview" onclick="scrollToSection('diagram1')">
                    <h3>üéØ –¢—Ä–µ–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫</h3>
                    <div class="preview-diagram">
                        <div class="mermaid" style="transform: scale(0.25); transform-origin: 0 0; position: absolute; left: 0; top: 0;">
graph TD
    subgraph "Frontend"
        A[Mobile App<br/>React Native] --> B[API Gateway]
    end

    subgraph "Backend Services"
        B --> C[Auth Service]
        B --> D[Habits Service]
        B --> E[Analytics Service]
    end

    subgraph "Data Storage"
        C --> F[(Users Database)]
        D --> G[(Habits Database)]
        E --> G
    end

    D --> E

    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style C fill:#e8f5e8
    style D fill:#fff3e0
    style E fill:#fce4ec
    style F fill:#f1f8e9
    style G fill:#e0f2f1
                        </div>
                    </div>
                    <p style="text-align: center; margin-top: 10px; color: #666;">
                        –ü—Ä–æ—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
                    </p>
                </div>

                <div class="preview" onclick="scrollToSection('diagram2')">
                    <h3>üè¶ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞</h3>
                    <div class="preview-diagram">
                        <div class="mermaid" style="transform: scale(0.25); transform-origin: 0 0; position: absolute; left: 0; top: 0;">
graph TD
    subgraph "–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–∞–Ω–∞–ª—ã"
        A1[Mobile App] --> B1
        A2[Internet Banking] --> B1
        A3[ATM Network] --> B1
        A4[Call Center] --> B1
        A5[POS Terminals] --> B1
    end

    subgraph "–®–ª—é–∑—ã –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è"
        B1[API Gateway] --> B2[Router]
    end

    subgraph "–ë–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω—ã"
        C1[User Auth] --> C11[(Session DB)]
        C2[Core Banking] --> C21[(Accounts DB)]
        C3[Payment Engine] --> C31[(Transactions DB)]
        C4[Card Management] --> C41[(Cards DB)]
        C5[Loan Engine] --> C51[(Loans DB)]
        C6[Customer Info] --> C61[(CRM DB)]
    end

    subgraph "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"
        D1[SWIFT Network]
        D2[Credit Bureaus]
        D3[Fraud Detection]
        D4[Payment Systems]
    end

    subgraph "–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞"
        E1[Message Broker]
        E2[Config Server]
        E3[Service Discovery]
        E4[Logging & Auditing]
        E5[Monitoring & Alerts]
    end

    B2 --> C1
    B2 --> C2
    B2 --> C3
    B2 --> C4
    B2 --> C5
    B2 --> C6

    C1 -.-> C2
    C1 -.-> C3
    C1 -.-> C4
    C1 -.-> C5
    C1 -.-> C6

    C2 --> C3
    C3 --> C2
    C2 --> C5
    C6 --> C2
    C6 --> C4
    C6 --> C5

    C3 --> E1
    C4 --> E1
    C5 --> E1
    E1 --> E4
    E1 --> D3

    C3 --> D1
    C3 --> D4
    C5 --> D2

    C1 --> E3
    C2 --> E3
    C3 --> E3
    C1 --> E2
    C2 --> E2
    C3 --> E2
    C1 --> E5
    C2 --> E5
    C3 --> E5
    C4 --> E5
    C5 --> E5
    C6 --> E5

    style A1 fill:#e1f5fe
    style A2 fill:#e1f5fe
    style A3 fill:#e1f5fe
    style A4 fill:#e1f5fe
    style A5 fill:#e1f5fe
    style B1 fill:#f3e5f5
    style B2 fill:#f3e5f5
    style C1 fill:#e8f5e8
    style C2 fill:#e8f5e8
    style C3 fill:#e8f5e8
    style C4 fill:#e8f5e8
    style C5 fill:#e8f5e8
    style C6 fill:#e8f5e8
    style D1 fill:#fff3e0
    style D2 fill:#fff3e0
    style D3 fill:#fff3e0
    style D4 fill:#fff3e0
    style E1 fill:#fce4ec
    style E2 fill:#fce4ec
    style E3 fill:#fce4ec
    style E4 fill:#fce4ec
    style E5 fill:#fce4ec
                        </div>
                    </div>
                    <p style="text-align: center; margin-top: 10px; color: #666;">
                        –°–ª–æ–∂–Ω–∞—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
                    </p>
                </div>
            </div>

            <!-- –†–∞–∑–¥–µ–ª —Å –ø–µ—Ä–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º–æ–π -->
            <div id="diagram1" class="section">
                <h1>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¢—Ä–µ–∫–µ—Ä–∞ –ü—Ä–∏–≤—ã—á–µ–∫</h1>
                <div class="diagram-container">
                    <div class="scalable-diagram-wrapper" id="diagram1-wrapper">
                        <div class="mermaid" id="diagram1-mermaid">
graph TD
    subgraph "Frontend"
        A[Mobile App<br/>React Native] --> B[API Gateway]
    end

    subgraph "Backend Services"
        B --> C[Auth Service]
        B --> D[Habits Service]
        B --> E[Analytics Service]
    end

    subgraph "Data Storage"
        C --> F[(Users Database)]
        D --> G[(Habits Database)]
        E --> G
    end

    D --> E

    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style C fill:#e8f5e8
    style D fill:#fff3e0
    style E fill:#fce4ec
    style F fill:#f1f8e9
    style G fill:#e0f2f1
                        </div>
                    </div>
                </div>
                
                <div class="description">
                    <h4>–û–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¢—Ä–µ–∫–µ—Ä–∞ –ø—Ä–∏–≤—ã—á–µ–∫:</h4>
                    <p><strong>Mobile App</strong> - –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ React Native</p>
                    <p><strong>API Gateway</strong> - –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</p>
                    <p><strong>Auth Service</strong> - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥</p>
                    <p><strong>Habits Service</strong> - —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã: —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–µ–∫</p>
                    <p><strong>Analytics Service</strong> - –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã</p>
                </div>
            </div>

            <!-- –†–∞–∑–¥–µ–ª —Å–æ –≤—Ç–æ—Ä–æ–π –¥–∏–∞–≥—Ä–∞–º–º–æ–π -->
            <div id="diagram2" class="section">
                <h1>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ë–∞–Ω–∫–æ–≤—Å–∫–æ–π –°–∏—Å—Ç–µ–º—ã</h1>
                <div class="diagram-container">
                    <div class="scalable-diagram-wrapper" id="diagram2-wrapper">
                        <div class="mermaid" id="diagram2-mermaid">
graph TD
    subgraph "–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–∞–Ω–∞–ª—ã"
        A1[Mobile App] --> B1
        A2[Internet Banking] --> B1
        A3[ATM Network] --> B1
        A4[Call Center] --> B1
        A5[POS Terminals] --> B1
    end

    subgraph "–®–ª—é–∑—ã –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è"
        B1[API Gateway] --> B2[Router]
    end

    subgraph "–ë–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω—ã"
        C1[User Auth] --> C11[(Session DB)]
        C2[Core Banking] --> C21[(Accounts DB)]
        C3[Payment Engine] --> C31[(Transactions DB)]
        C4[Card Management] --> C41[(Cards DB)]
        C5[Loan Engine] --> C51[(Loans DB)]
        C6[Customer Info] --> C61[(CRM DB)]
    end

    subgraph "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"
        D1[SWIFT Network]
        D2[Credit Bureaus]
        D3[Fraud Detection]
        D4[Payment Systems]
    end

    subgraph "–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞"
        E1[Message Broker]
        E2[Config Server]
        E3[Service Discovery]
        E4[Logging & Auditing]
        E5[Monitoring & Alerts]
    end

    B2 --> C1
    B2 --> C2
    B2 --> C3
    B2 --> C4
    B2 --> C5
    B2 --> C6

    C1 -.-> C2
    C1 -.-> C3
    C1 -.-> C4
    C1 -.-> C5
    C1 -.-> C6

    C2 --> C3
    C3 --> C2
    C2 --> C5
    C6 --> C2
    C6 --> C4
    C6 --> C5

    C3 --> E1
    C4 --> E1
    C5 --> E1
    E1 --> E4
    E1 --> D3

    C3 --> D1
    C3 --> D4
    C5 --> D2

    C1 --> E3
    C2 --> E3
    C3 --> E3
    C1 --> E2
    C2 --> E2
    C3 --> E2
    C1 --> E5
    C2 --> E5
    C3 --> E5
    C4 --> E5
    C5 --> E5
    C6 --> E5

    style A1 fill:#e1f5fe
    style A2 fill:#e1f5fe
    style A3 fill:#e1f5fe
    style A4 fill:#e1f5fe
    style A5 fill:#e1f5fe
    style B1 fill:#f3e5f5
    style B2 fill:#f3e5f5
    style C1 fill:#e8f5e8
    style C2 fill:#e8f5e8
    style C3 fill:#e8f5e8
    style C4 fill:#e8f5e8
    style C5 fill:#e8f5e8
    style C6 fill:#e8f5e8
    style D1 fill:#fff3e0
    style D2 fill:#fff3e0
    style D3 fill:#fff3e0
    style D4 fill:#fff3e0
    style E1 fill:#fce4ec
    style E2 fill:#fce4ec
    style E3 fill:#fce4ec
    style E4 fill:#fce4ec
    style E5 fill:#fce4ec
                        </div>
                    </div>
                </div>
                
                <div class="description">
                    <h4>–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–∞–Ω–∫–æ–≤—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã:</h4>
                    <p><strong>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–∞–Ω–∞–ª—ã</strong> - —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–Ω–∫–æ–≤—Å–∫–∏–º —É—Å–ª—É–≥–∞–º</p>
                    <p><strong>–ë–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω—ã</strong> - –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, –æ—Ç–≤–µ—á–∞—é—â–∏–µ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏</p>
                    <p><strong>–í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</strong> - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º –∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º</p>
                    <p><strong>–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</strong> - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            securityLevel: 'loose',
            flowchart: {
                useMaxWidth: false,
                htmlLabels: true
            }
        });

        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∏–∞–≥—Ä–∞–º–º
        function makeScalable(wrapperId) {
            const wrapper = document.getElementById(wrapperId);
            if (!wrapper) return;

            let scale = 1;
            const wheelSensitivity = 0.1;

            wrapper.addEventListener('wheel', function(e) {
                if (e.ctrlKey) {
                    e.preventDefault();
                    const delta = e.deltaY > 0 ? -wheelSensitivity : wheelSensitivity;
                    scale += delta;
                    if (scale < 0.5) scale = 0.5;
                    if (scale > 2) scale = 2;
                    wrapper.style.transform = `scale(${scale})`;
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
                    wrapper.parentElement.style.overflowX = scale > 1 ? 'auto' : 'hidden';
                }
            });

            wrapper.addEventListener('dblclick', function() {
                scale = 1;
                wrapper.style.transform = `scale(${scale})`;
                wrapper.parentElement.style.overflowX = 'hidden';
            });
        }

        // –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∫ –¥–∏–∞–≥—Ä–∞–º–º–∞–º –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
        document.addEventListener('DOMContentLoaded', function() {
            makeScalable('diagram1-wrapper');
            makeScalable('diagram2-wrapper');
        });
    </script>
</body>
</html>